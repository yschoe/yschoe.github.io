/* =========================================================
   Medieval manuscript skin (for your current HTML structure)
   Drop this at the END of style.scss
   ========================================================= */

$ink: #2a2016;          // warm brown ink
$paper: #f3ead3;        // parchment base
$paper2: #eadbb8;       // parchment variation
$rubric: #8b1e1e;       // muted rubric red
$lapis: #1f3a73;        // muted blue
$rule: rgba($ink, 0.35);

html {
  // “desk” background
  background: radial-gradient(1200px 700px at 30% 20%, rgba(#000, 0.35), transparent 60%),
              radial-gradient(900px 600px at 80% 30%, rgba(#000, 0.30), transparent 55%),
              linear-gradient(180deg, #2b2520, #161210);
}

body {
  margin: 0;
  color: $ink;
  // keep your type, but nudge it toward manuscript feel
  letter-spacing: 0.005em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

main {
  // Turn MAIN into the parchment page
  max-width: 1100px;
  margin: clamp(1.25rem, 3vw, 3rem) auto;
  padding: clamp(1.25rem, 4vw, 4rem);

  background:
    radial-gradient(1400px 900px at 20% 10%, rgba(#fff, 0.45), transparent 60%),
    radial-gradient(900px 700px at 85% 30%, rgba(#fff, 0.22), transparent 55%),
    radial-gradient(900px 700px at 30% 85%, rgba(#000, 0.06), transparent 55%),
    repeating-linear-gradient(
      0deg,
      rgba(#000, 0.03) 0px,
      rgba(#000, 0.03) 1px,
      transparent 1px,
      transparent 7px
    ),
    linear-gradient(135deg, $paper, $paper2);

  border-radius: 12px;

  // depth + subtle “aged” inner edges
  box-shadow:
    0 22px 70px rgba(#000, 0.60),
    0 2px 0 rgba(#fff, 0.18) inset,
    0 -2px 0 rgba(#000, 0.10) inset;

  // deckled edge illusion (soft irregular border)
  outline: 1px solid rgba($ink, 0.12);
  outline-offset: -10px;
}

article {
  // Slightly narrower text block feels more manuscript-like
  max-width: 78ch;
}

/* ---------- Title + rubric accents ---------- */

.title {
  letter-spacing: 0.03em;
  color: rgba($ink, 0.92);
  margin-top: 0;
  padding-bottom: 0.6rem;
  border-bottom: 1px solid $rule;

  // small red ornament marker
  &::before {
    content: "✠ ";
    color: $rubric;
  }
}

/* Headings: less “modern italic caps”, more ink */
h1, h2, h3, h4, h5, h6 {
  font-style: normal;
  font-weight: 500;
  text-transform: none;
  color: rgba($ink, 0.95);
  letter-spacing: 0.015em;
}

h1 {
  margin-top: 1.8rem;
  padding-bottom: 0.6rem;
  border-bottom: 1px solid $rule;
}

h3[id]::before {
  content: "❦ ";
  color: $rubric;
}

/* ---------- Links: ink + rubric underline wash ---------- */

a, a:visited {
  color: $ink;
  text-decoration: none;
  background: linear-gradient(to bottom, transparent 70%, rgba($rubric, 0.22) 70%);
  transition: color 120ms ease, background 120ms ease;
}

a:hover {
  color: $rubric;
  background: linear-gradient(to bottom, transparent 55%, rgba($rubric, 0.28) 55%);
}

/* ---------- Navigation: looks like a rubricated header strip ---------- */

nav {
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  border: 1px solid rgba($ink, 0.18);
  border-radius: 10px;
  background: rgba(#fff, 0.18);
}

.site-nav {
  // keep your existing layout rules if any; this just improves feel
  gap: 0.75rem;
}

nav a.page-link {
  color: $lapis;
  letter-spacing: 0.02em;
  padding: 0.15rem 0.35rem;
  border-radius: 6px;
}

nav a.page-link:hover {
  color: $rubric;
  background: rgba($rubric, 0.10);
}

/* ---------- Drop cap on first real paragraph in article ---------- */
/* Your first <p> is just the image; we apply drop cap to the next paragraph */
article p + p::first-letter {
  float: left;
  font-size: 3.6em;
  line-height: 0.9;
  padding: 0.06em 0.16em 0.02em;
  margin: 0.02em 0.10em 0 0;

  color: $rubric;
  background: linear-gradient(135deg, rgba(#d8b56a, 0.35), rgba(#fff, 0));
  border-radius: 8px;

  text-shadow:
    1px 1px 0 rgba(#000, 0.15),
    0 0 0.35em rgba($lapis, 0.16);
}

/* ---------- Lists & rules ---------- */

ul {
  // slightly tighter + more “printed”
  padding-left: 1.2rem;
}

hr {
  border: 0;
  height: 1px;
  background: transparent;
  margin: 3.5rem auto;
  max-width: 1100px;
  position: relative;
}

hr::before {
  content: "✠ ✠ ✠";
  display: block;
  text-align: center;
  letter-spacing: 0.45em;
  color: rgba($ink, 0.55);
}

/* Footer as a colophon */
.bottom-footer {
  max-width: 1100px;
  margin: 0 auto 2.5rem auto;
  padding: 0 1.2rem;
  color: rgba($ink, 0.85);
}

/* ---------- Dark mode: keep parchment, don't invert ---------- */
@media (prefers-color-scheme: dark) {
  html { background: #0f0d0b; }

  main {
    color: #e7dcc7;
    background:
      radial-gradient(1200px 800px at 20% 10%, rgba(#fff, 0.07), transparent 60%),
      radial-gradient(900px 700px at 80% 30%, rgba(#fff, 0.04), transparent 55%),
      linear-gradient(135deg, #2a231c, #1b1612);
    outline-color: rgba(#fff, 0.08);
    box-shadow: 0 22px 70px rgba(#000, 0.75);
  }

  a, a:visited { color: #e7dcc7; }
  a:hover { color: #d06a6a; }

  nav { background: rgba(#fff, 0.06); border-color: rgba(#fff, 0.12); }
  nav a.page-link { color: #b9c8ff; }
}

